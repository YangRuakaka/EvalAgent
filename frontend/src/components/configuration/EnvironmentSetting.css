.config-environment {
	display: flex;
	flex-direction: column;
	gap: 8px;
	padding: 12px;
	border: 1px solid #111111;
	border-radius: 8px;
	background-color: #f9fafb;
}

.config-environment--frameless {
	padding: 0;
	border: none;
	background: transparent;
}

.config-environment__title {
	margin: 0;
	font-size: 0.85rem;
	font-weight: 600;
	color: #111111;
}

.config-environment__grid {
	display: flex;
	flex-direction: column;
	gap: 16px;
}

.config-environment__field {
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.config-environment__label {
	font-size: 0.8rem;
	font-weight: 600;
	color: #111111;
}

.config-environment__select {
	width: 100%;
	min-height: 40px;
	height: 40px;
	padding: 8px 12px;
	border: 1px solid #111111;
	border-radius: 8px;
	background-color: #ffffff;
	color: #111111;
	font-size: 0.85rem;
	line-height: 1.25;
	box-sizing: border-box;
	transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.config-environment__select:focus {
	outline: none;
	border-color: #000000;
	box-shadow: 0 0 0 3px rgba(17, 17, 17, 0.15);
}

.config-environment__select--input {
	appearance: textfield;
	-moz-appearance: textfield;
	height: 40px;
}

.config-environment__select--input::-webkit-outer-spin-button,
.config-environment__select--input::-webkit-inner-spin-button {
	margin: 0;
	-webkit-appearance: none;
}

.config-environment__hint {
	margin: 0;
	font-size: 0.75rem;
	color: #6b7280;
}

.config-environment__hint-accent {
	font-weight: 600;
	color: #111111;
}

.config-environment__variation-list {
	display: flex;
	flex-wrap: wrap;
	gap: 8px 12px;
}

.config-environment__model-list {
	display: flex;
	flex-wrap: wrap;
	gap: 8px 12px;
}

.config-environment__checkbox {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	font-size: 0.78rem;
	color: #111111;
}

.config-environment__checkbox-input {
	margin: 0;
}

.config-environment__checkbox-dot {
	width: 12px;
	height: 12px;
	border-radius: 50%;
	border: 1px solid rgba(17, 17, 17, 0.1);
	flex-shrink: 0;
}

.config-environment__checkbox-label {
	line-height: 1.2;
}

.config-environment__model-checkbox {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	font-size: 0.78rem;
	color: #111111;
}

.config-environment__model-input {
	margin: 0;
}

.config-environment__model-label {
	line-height: 1.2;
}

.config-environment__checkbox-preview {
	display: block;
	margin-left: 28px;
	margin-top: 4px;
	font-family: 'Courier New', Courier, monospace;
	font-size: 0.72rem;
	line-height: 1.3;
	color: #111111;
	background-color: #f9fafb;
	padding: 6px 8px;
	border-radius: 6px;
	border: 1px solid rgba(17, 17, 17, 0.08);
	white-space: pre-wrap;
	word-break: break-word;
	max-height: 140px;
	overflow-y: auto;
}

.config-environment__textarea {
	border: 1px solid #111111;
	border-radius: 8px;
	padding: 8px 12px;
	min-height: 80px;
	font-size: 0.85rem;
	font-family: inherit;
	color: #111111;
	background-color: #ffffff;
	resize: vertical;
}

.config-environment__textarea:focus {
	outline: none;
	border-color: #000000;
	box-shadow: 0 0 0 3px rgba(17, 17, 17, 0.15);
}

.config-environment__field--inline {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
	gap: 16px;
}

.config-environment__control {
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.config-environment__message {
	margin: 0;
	font-size: 0.8rem;
	color: #6b7280;
}

.config-environment__result {
	margin-top: 12px;
	padding: 12px;
	border: 1px solid #111111;
	border-radius: 8px;
	background-color: #ffffff;
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.config-environment__result-title {
	margin: 0 0 4px;
	font-size: 0.8rem;
	font-weight: 600;
	color: #111111;
}

.config-environment__result-content {
	margin: 0;
	font-family: 'Courier New', Courier, monospace;
	font-size: 0.75rem;
	line-height: 1.4;
	white-space: pre-wrap;
	word-break: break-word;
	color: #111111;
	max-height: 220px;
	overflow-y: auto;
	background-color: #f9fafb;
	border-radius: 6px;
	padding: 8px;
	border: 1px solid rgba(17, 17, 17, 0.1);
}

/* New layout: side-by-side selection and card-style items */
.config-selection-row {
	display: flex;
	gap: 16px;
	align-items: flex-start;
}

.config-panel {
	flex: 1 1 0;
	display: flex;
	flex-direction: column;
	gap: 8px;
	padding: 12px;
	border: 1px solid rgba(17,17,17,0.06);
	border-radius: 8px;
	background: #ffffff;
}

.config-panel--full {
	margin-top: 12px;
}

.config-panel__title {
	margin: 0;
	font-size: 0.85rem;
	font-weight: 600;
	color: #111111;
}

.config-panel__body {
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.config-panel__card-list {
	display: flex;
	flex-direction: column;
	gap: 8px;
	margin-top: 8px;
}

.config-card {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 12px;
	padding: 8px 10px;
	border-radius: 6px;
	border: 1px solid rgba(17,17,17,0.06);
	background: #fafafa;
}

.config-card__left {
	display: flex;
	align-items: center;
	gap: 10px;
}

.config-card__dot {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	flex-shrink: 0;
	border: 1px solid rgba(17,17,17,0.06);
}

.config-card__label {
	font-size: 0.85rem;
	color: #111111;
}

.config-card__add {
	min-width: 36px;
	height: 28px;
	border: none;
	background-color: #111827;
	color: #fff;
	border-radius: 6px;
	font-weight: 700;
	cursor: pointer;
}

.config-card__edit {
	min-width: 46px;
	height: 28px;
	border: 1px solid rgba(17,17,17,0.06);
	background: transparent;
	color: #111827;
	border-radius: 6px;
	font-weight: 600;
	cursor: pointer;
	padding: 0 8px;
}

.config-card__edit:hover {
	transform: translateY(-2px);
	box-shadow: 0 8px 18px rgba(17,17,17,0.08);
}

.config-card__add:focus {
	outline: none;
	box-shadow: 0 0 0 3px rgba(17,17,17,0.12);
}

/* Button animations: hover lift, active press, smooth transitions and small pop on click */
.config-card__add,
.selected-card__remove {
	transition: transform 180ms cubic-bezier(.2,.9,.2,1),
				background-color 160ms ease,
				box-shadow 180ms cubic-bezier(.2,.9,.2,1);
	will-change: transform, box-shadow;
}

.config-card__add:hover,
.selected-card__remove:hover {
	transform: translateY(-3px) scale(1.03);
	box-shadow: 0 8px 22px rgba(17,17,17,0.12);
}

.config-card__add:active,
.selected-card__remove:active {
	transform: scale(0.96);
	box-shadow: 0 4px 12px rgba(17,17,17,0.08);
	animation: pop-press 180ms ease;
}

.config-card__add:focus-visible,
.selected-card__remove:focus-visible {
	outline: none;
	box-shadow: 0 0 0 4px rgba(17,17,17,0.12);
}

.config-card--add {
	justify-content: center;
	background: #f3f4f6;
	cursor: pointer;
	border: 1px dashed rgba(17,17,17,0.2);
}

.config-card--add:hover {
	background: #e5e7eb;
	border-color: rgba(17,17,17,0.3);
}

@keyframes pop-press {
	0% { transform: scale(1); }
	50% { transform: scale(0.94); }
	100% { transform: scale(0.98); }
}

@media (max-width: 780px) {
	.config-selection-row {
		flex-direction: column;
	}
}

/* Selected items container - groups all selected item sections */
.selected-items-container {
	display: flex;
	flex-direction: column;
	gap: 16px;
	margin-bottom: 16px;
}

/* Individual section for selected items (Personas, Models, Tasks) */
.selected-items-section {
	display: flex;
	flex-direction: column;
	gap: 8px;
	padding: 12px;
	border: 1px solid rgba(17, 17, 17, 0.08);
	border-radius: 8px;
	background: #fafafa;
}

.selected-items-section__label {
	font-size: 0.8rem;
	font-weight: 600;
	color: #111111;
	margin-bottom: 4px;
}

/* Selected items (persona + models) */
.selected-cards {
	display: flex;
	gap: 8px;
	flex-wrap: wrap;
}

.selected-card {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 6px 8px;
	border-radius: 6px;
	background: #fff;
	border: 1px solid rgba(17,17,17,0.06);
}

.selected-card__left {
	display: flex;
	align-items: center;
	gap: 8px;
}

.selected-card__label {
	font-size: 0.85rem;
	color: #111111;
}

.selected-card__remove {
	min-width: 28px;
	height: 24px;
	border: none;
	background: #ef4444;
	color: #fff;
	border-radius: 6px;
	font-weight: 700;
	cursor: pointer;
}

.selected-card__remove:focus,
.selected-card__remove:active {
	outline: none;
	box-shadow: 0 0 0 3px rgba(239,68,68,0.12);
}

/* Compact / compressed controls */
.config-environment__textarea--compact {
	min-height: 48px;
	padding: 6px 8px;
	font-size: 0.85rem;
}

.compact-controls .config-environment__select,
.compact-controls .config-environment__select--input {
	height: 32px;
	min-height: 32px;
	padding: 6px 8px;
}

.compact-controls .config-environment__control {
	gap: 6px;
}

@media (max-width: 780px) {
	.selected-items-container {
		gap: 12px;
	}
	
	.selected-items-section {
		padding: 10px;
	}
}

@media (max-width: 480px) {
	.selected-cards {
		gap: 6px;
	}
	.config-card__label, .selected-card__label {
		font-size: 0.82rem;
	}
	
	.selected-items-section__label {
		font-size: 0.78rem;
	}
}

